<script lang="ts" setup>
import { reactive } from "vue";
import { LockOutlined, UserOutlined } from "@ant-design/icons-vue";
import { MainInfo } from "../interfaces";

type RegisterStepOneProps = {
  data: MainInfo
};

const { data } = defineProps<RegisterStepOneProps>();

const formState = reactive(data);

const emit = defineEmits(["finish"]);

const submitForm = (data: MainInfo) => {
  emit("finish", data);
};
</script>

<template>
  <ASpace direction="vertical">
    <ALayoutHeader class="tal mb30">
      <ATypographyTitle>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç üë©‚Äçüíª</ATypographyTitle>
      <ATypographyText>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ –º–∏—Ä –≤–∫—É—Å–Ω–æ–≥–æ –∫–æ—Ñ–µ</ATypographyText>
    </ALayoutHeader>
    <AForm
      name="sign-up"
      layout="vertical"
      :model="formState"
      :label-col="{span: 8}"
      @finish="submitForm"
    >
      <AFormItem
        label="Email" name="email"
        :rules="[
        { required: true, message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ email' },
        { type: 'email', message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–π email' },
      ]"
      >
        <AInput
          placeholder="Email"
          v-model:value="formState.email"
        >
          <template #prefix>
            <UserOutlined />
          </template>
        </AInput>
      </AFormItem>
      <AFormItem
        label="–ü–∞—Ä–æ–ª—å" name="password"
        :rules="[{required: true, message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å'}]"
      >
        <AInputPassword
          placeholder="–ü–∞—Ä–æ–ª—å"
          v-model:value="formState.password"
        >
          <template #prefix>
            <LockOutlined />
          </template>
        </AInputPassword>
      </AFormItem>

      <ADivider />

      <AFormItem class="mb30">
        <ATypographyText>
          –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
          <RouterLink :to="{ name: 'login' }">–í–æ–π—Ç–∏</RouterLink>
        </ATypographyText>
      </AFormItem>

      <AFormItem>
        <AButton
          size="large" block
          type="primary" html-type="submit"
        >
          –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
        </AButton>
      </AFormItem>
    </AForm>
  </ASpace>
</template>

<style scoped>

</style>
